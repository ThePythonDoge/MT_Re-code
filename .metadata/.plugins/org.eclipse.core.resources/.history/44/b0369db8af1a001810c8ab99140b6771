package com.mortuusterra.listeners;

import org.bukkit.Material;
import org.bukkit.block.Block;
import org.bukkit.block.BlockFace;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.block.BlockPlaceEvent;

import com.mortuusterra.MortuusTerraMain;

public class MTGeneratorListener implements Listener {

	private MortuusTerraMain main;

	public MTGeneratorListener(MortuusTerraMain m) {
		this.main = m;
	}

	@EventHandler
	public void onBlockPlace(BlockPlaceEvent e) {
		if (e.getBlock().getType().equals(Material.REDSTONE_LAMP_OFF)) {
			Block lamp = e.getBlock();
			if (lamp.getRelative(BlockFace.DOWN).getType().equals(Material.FURNACE)) {
				Block funace = lamp.getRelative(BlockFace.DOWN);
				if (funace.getRelative(BlockFace.DOWN).getType().equals(Material.SMOOTH_BRICK)) {
					Block centerGround = funace.getRelative(BlockFace.DOWN);
					if (lamp.getRelative(BlockFace.UP).getType().equals(Material.STONE_SLAB2)) {
						Block centerTop = lamp.getRelative(BlockFace.UP);
						BlockFace[] squareFaces = { BlockFace.EAST, BlockFace.WEST, BlockFace.NORTH, BlockFace.SOUTH,
								BlockFace.NORTH_EAST, BlockFace.NORTH_WEST, BlockFace.SOUTH_EAST,
								BlockFace.SOUTH_WEST };
						BlockFace[] ironFenceFaces = { BlockFace.NORTH_EAST, BlockFace.NORTH_WEST, BlockFace.SOUTH_EAST,
								BlockFace.SOUTH_WEST };
						for (BlockFace f : squareFaces) {
							if (!centerGround.getRelative(f).getType().equals(Material.SMOOTH_BRICK)
									|| !centerTop.getRelative(f).getType().equals(Material.STONE_SLAB2)) {
								
							}
						}
					}
				}
			}
		}
	}

}
